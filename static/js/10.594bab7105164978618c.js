webpackJsonp([10],{P9vi:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),r=s.n(a),n=s("exGp"),o=s.n(n),l=s("GVVA"),i={data:function(){return{loading:!1,step_value:1,user_uid:this.$store.state.loginstore.userstate[0].user_uid,email:this.$store.state.loginstore.userstate[0].email,nickname:this.$store.state.loginstore.userstate[0].nickname,password:null}},methods:{delete_user:function(){var t=this;return o()(r.a.mark(function e(){var s,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$refs.form.validate()){e.next=19;break}return s={user_uid:t.user_uid,email:t.email,nickname:t.nickname,password:t.password},e.prev=3,t.loading=!0,e.next=7,l.a.post("/delete_user_goodbye",s,{withCredentials:!0});case 7:200===(a=e.sent).status?(t.loading=!1,t.logout(),t.step_value=3):400===a.status?(t.$alert("회원탈퇴에 실패하였습니다.(-1)"),t.loading=!1):(t.$alert("회원탈퇴에 실패하였습니다.(-2)"),t.loading=!1),e.next=17;break;case 11:throw e.prev=11,e.t0=e.catch(3),alert("회원탈퇴에 실패하였습니다.(-3)"),t.loading=!1,console.log("catch에러  :"+e.t0),e.t0;case 17:e.next=21;break;case 19:alert("빠진 항목이나 메일주소를 확인해 주세요."),t.loading=!1;case 21:case"end":return e.stop()}},e,t,[[3,11]])}))()},movePrevious_page:function(){this.$router.go(-1)},moveHome:function(){this.logout(),this.$router.push("/")},logout:function(){this.$store.dispatch("loginstore/logout"),sessionStorage.clear(),localStorage.clear()}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-stepper",{attrs:{vertical:""},model:{value:t.step_value,callback:function(e){t.step_value=e},expression:"step_value"}},[s("v-stepper-step",{attrs:{complete:t.step_value>1,step:"1"}},[t._v("\n    회원탈퇴 시작\n  ")]),t._v(" "),s("v-stepper-content",{attrs:{step:"1"}},[s("v-card",{staticClass:"mb-2",attrs:{height:"200px"}},[s("div",{staticClass:"ma-2"},[t._v("\n        회원탈퇴시 작성한 게시물과 가입한 정보가 삭제됩니다.\n      ")])]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.step_value=2}}},[t._v("\n      다음단계\n    ")]),t._v(" "),s("v-btn",{attrs:{text:""},on:{click:t.movePrevious_page}},[t._v("\n      취소\n    ")])],1),t._v(" "),s("v-stepper-step",{attrs:{complete:t.step_value>2,step:"2"}},[t._v("\n    비밀번호 확인\n    ")]),t._v(" "),s("v-stepper-content",{attrs:{step:"2"}},[s("v-card",{staticClass:"mb-2",attrs:{height:"200px"}},[s("div",{staticClass:"ma-2"},[t._v("\n        비밀번호를 입력하고 다음단계를 클릭하시면 회원탈퇴 처리를 시작하며 삭제된 데이터는 복구되지 않습니다.\n      ")]),t._v(" "),s("v-form",{ref:"form",staticClass:"mt-5"},[s("v-text-field",{staticClass:"ml-2 mr-2",attrs:{label:"비밀번호",placeholder:"비밀번호를 입력해주세요."},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-btn",{attrs:{loading:t.loading,text:"",color:"primary"},on:{click:t.delete_user}},[t._v("\n      다음단계\n    ")]),t._v(" "),s("v-btn",{attrs:{text:""},on:{click:function(e){t.step_value=1}}},[t._v("\n      이전단계\n    ")])],1),t._v(" "),s("v-stepper-step",{attrs:{complete:t.step_value>3,step:"3"}},[t._v("\n    회원탈퇴 완료\n  ")]),t._v(" "),s("v-stepper-content",{attrs:{step:"3"}},[s("v-card",{staticClass:"mb-2",attrs:{height:"200px"}},[s("div",{staticClass:"ma-2"},[t._v("\n        회원 탈퇴 처리가 완료되었습니다. 그동안 이용해 주셔서 다시 한번 깊은\n        감사드리며 다시 뵙게 될 날을 기대하면서 좀 더 나은 서비스를 제공하도록\n        더 노력하겠습니다."),s("br"),t._v("- sunpercent 운영자 올림 -\n      ")])]),t._v(" "),s("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.moveHome}},[t._v("\n      확인\n    ")])],1)],1)},staticRenderFns:[]},v=s("VU/8")(i,c,!1,null,null,null);e.default=v.exports}});
//# sourceMappingURL=10.594bab7105164978618c.js.map