webpackJsonp([17],{zeM2:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("GVVA"),s=r("xUm/"),a=r.n(s),o=r("HJCm"),n=r.n(o),l=r("nXk1"),u=r.n(l),c=r("/6JZ");u.a.config.encrypt=!0;var _={components:{apexcharts:n.a,Content_multi:c.default},data:function(){return{loading:!1,black_image:a.a,reportRules:[function(t){return!!t||"신고사유가 선택되지 않았습니다."}],report_reason:null,report_reason_list:["너무 선정적 입니다.","사진을 알아볼 수가 없어요.","중복된 게시물 입니다.","게시판 성격과 맞지 않아요.","광고성 게시물 입니다.","사진편집이 과해 보여요","외모 사진이 아닙니다.","작성자 성별과 사진의 성별이 다릅니다."],reportdialog_multi:!1,scoredialog_multi:!1,score_multi_value:null,deletedialog:!1,rules:[function(t){return!!t||"선택되지 않았습니다."}],score_total:null,score_a:null,score_b:null,score_c:null,series:[],chartOptions:{plotOptions:{pie:{donut:{labels:{show:!0,total:{showAlways:!0,show:!0,label:"TOTAL",fontSize:"12px",color:"white"},value:{fontSize:"22px",show:!0,color:"blue"}}}}},labels:["1번 사진","2번 사진","3번 사진"],title:{text:"사진 선택 통계",align:"center"},legend:{position:"bottom"},theme:{mode:"dark",palette:"palette1",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},chart:{type:"donut",background:"#121212"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}}},mounted:function(){this.$store.dispatch("imagestore/getimage_multi",this.$route.params.content_uid);var t={content_uid:this.$route.params.content_uid};this.$store.dispatch("scorestore/getscore_multi",t)},computed:{pre_url_set:function(){return u.a.set("pre_target",this.$router.currentRoute.fullPath)},imageDetail_multi:function(){return this.$store.getters["imagestore/imageDetail_multi"]},average_total:function(){var t=this.$store.state.scorestore.scorestate_multi,e=0,r=0,i=0;this.series=[];try{t.map(function(t){"1번 사진"==t.content_score_multi&&(e+=1),"2번 사진"==t.content_score_multi&&(r+=1),"3번 사진"==t.content_score_multi&&(i+=1)}),this.series.push(e,r,i)}catch(t){}}},methods:{delete_cancel:function(){this.deletedialog=!1},deleteimage_multi:function(){var t={content_uid:this.$store.state.imagestore.imagedetail_multi[0].content_uid,image_path:this.$store.state.imagestore.imagedetail_multi[0].image_path,user_uid:this.$store.state.loginstore.userstate[0].user_uid};this.$store.dispatch("imagestore/deleteImage_multi",t),this.$router.go(-1)},delete_dialog:function(){this.deletedialog=!0},report_content_multi:function(){var t=this;if(this.$refs.report_form.validate()){var e={content_uid:this.$store.state.imagestore.imagedetail_multi[0].content_uid,to_uid:this.$store.state.imagestore.imagedetail_multi[0].user_uid,from_uid:this.$store.state.loginstore.userstate[0].user_uid,report_reason:this.report_reason};i.a.post("/report_multi",e,{withCredentials:!0}).then(function(e){t.reportdialog=!1}).then(function(){return t.$router.go(0)}).catch(function(e){403==e.response.status?(t.reportdialog=!1,t.$alert("권한이 없습니다. 로그인 페이지로 이동합니다.").then(function(){return t.$router.push("/login")})):400==e.response.status?t.$alert("이미 신고완료한 게시물 입니다.").then(function(){return t.reportdialog=!1}).then(function(){return t.$router.go(0)}):t.reportdialog=!1})}else alert("신고사유가 선택되지 않았습니다.")},report_cancel_multi:function(){this.reportdialog_multi=!1},report_multi:function(){this.reportdialog_multi=!0},score_multi:function(){this.scoredialog_multi=!0},score_cancel_multi:function(){this.scoredialog_multi=!1},score_send_multi:function(){var t=this;if(this.loading=!0,this.$refs.form.validate()){var e={content_uid:this.$store.state.imagestore.imagedetail_multi[0].content_uid,to_uid:this.$store.state.imagestore.imagedetail_multi[0].user_uid,from_uid:this.$store.state.loginstore.userstate[0].user_uid,content_score_multi:this.score_multi_value,gender:this.$store.state.loginstore.userstate[0].gender};i.a.post("/contentscore_multi",e,{withCredentials:!0}).then(function(e){t.loading=!1,t.scoredialog_multi=!1;try{var r=t.$store.state.imagestore.imagedetail_multi[0].content_uid,s={content_uid:t.$store.state.imagestore.imagedetail_multi[0].content_uid};i.a.post("/contentscore_multi/"+r,s)}catch(e){console.log("score_send_multi 에러")}}).then(function(){return t.$router.go(0)}).catch(function(e){403==e.response.status?(t.scoredialog_multi=!1,t.$alert("권한이 없습니다. 로그인 페이지로 이동합니다.").then(function(){return t.$router.push("/login")})):400==e.response.status?t.$alert("이미 점수가 등록된 게시물 입니다.").then(function(){return t.scoredialog_multi=!1}).then(function(){return t.$router.go(0)}):t.scoredialog_multi=!1})}}}},m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"contentdetail pa-6 center"},[t._v("\r\n    "+t._s(t.average_total)+t._s(t.pre_url_set)+"\r\n    "),r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},t._l(t.imageDetail_multi,function(e,i){return r("v-card",{key:i,staticClass:"justify-center",attrs:{width:"100%","max-width":"780px"}},[r("v-card-title",[t._v(t._s(t.$store.state.imagestore.imagedetail_multi[0].title))]),t._v(" "),r("v-carousel",{attrs:{"hide-delimiter-background":"","show-arrows-on-hover":"",height:"auto"}},t._l(e.image_path,function(i,s){return r("v-carousel-item",{key:s},[e.report_count>2?r("v-img",{staticClass:"grey--text align-center",attrs:{src:t.black_image,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)","max-height":"500px","max-width":"1000px","aspect-ratio":"1",contain:""}},[r("v-card-text",{staticClass:"font-weight-thin",attrs:{align:"center"}},[t._v("신고누적으로"),r("br"),t._v("이미지차단")])],1):r("v-img",{staticClass:"white--text align-end mx-auto",attrs:{"max-height":"500px","max-width":"1000px","aspect-ratio":"1",contain:"",src:"http://192.168.0.12:4000/"+i},scopedSlots:t._u([{key:"placeholder",fn:function(){return[r("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[r("div",{staticClass:"pa-9",attrs:{align:"center",justify:"center"}},[t._v("\r\n                  "+t._s(s+1)+"번 사진\r\n                ")])])],1)}),1),t._v(" "),[r("div",[r("v-row",{staticClass:"mt-6 ml-3"},["male"==t.$store.state.imagestore.imagedetail_multi[0].gender?r("v-icon",{staticClass:"mr-1",attrs:{color:"blue darken-3"}},[t._v("mdi-alpha-m-circle-outline")]):t._e(),t._v(" "),"female"==t.$store.state.imagestore.imagedetail_multi[0].gender?r("v-icon",{staticClass:"mr-1",attrs:{color:"pink"}},[t._v("mdi-alpha-w-circle-outline")]):t._e(),r("span",{staticClass:"ml-1"},[t._v(t._s(t.$store.state.imagestore.imagedetail_multi[0].nickname))]),t._v(" "),r("v-icon",{staticClass:"ml-6"},[t._v("mdi-eye-outline")]),t._v(" "),r("span",{staticClass:"ml-2"},[t._v("\r\n                  "+t._s(t.$store.state.imagestore.imagedetail_multi[0].view_count)+"\r\n                ")]),t._v(" "),r("v-icon",{staticClass:"ml-6"},[t._v("mdi-bullhorn-outline")]),t._v(" "),r("span",{staticClass:"ml-2"},[t._v(t._s(t.$store.state.imagestore.imagedetail_multi[0].report_count))])],1),t._v(" "),r("v-card-text",{domProps:{textContent:t._s(t.$store.state.imagestore.imagedetail_multi[0].date)}})],1)],t._v(" "),t.$store.state.scorestore.scorestate_multi.filter(function(e){return e.from_uid==t.$store.state.loginstore.userstate[0].user_uid}).length>0?r("v-alert",{attrs:{type:"success"}},[t._v("내가 사진 선택 완료한 게시물")]):t._e(),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),t.$store.state.scorestore.scorestate_multi.filter(function(e){return e.from_uid==t.$store.state.loginstore.userstate[0].user_uid}).length<=0&&t.$store.state.imagestore.imagedetail_multi[0].user_uid!=t.$store.state.loginstore.userstate[0].user_uid?r("v-btn",{attrs:{text:"",color:"primary",dark:""},on:{click:function(e){return e.preventDefault(),t.score_multi.apply(null,arguments)}}},[t._v("사진고르기")]):t._e(),t._v(" "),t.$store.state.imagestore.imagedetail_multi[0].user_uid==t.$store.state.loginstore.userstate[0].user_uid?r("v-btn",{attrs:{text:"",color:"primary",dark:""},on:{click:function(e){return e.preventDefault(),t.delete_dialog.apply(null,arguments)}}},[t._v("삭제하기")]):t._e(),t._v(" "),t.$store.state.imagestore.imagedetail_multi[0].user_uid!=t.$store.state.loginstore.userstate[0].user_uid?r("v-btn",{attrs:{text:"",color:"primary",to:"/userpage/"+t.$store.state.imagestore.imagedetail_multi[0].nickname+"/"+t.$store.state.imagestore.imagedetail_multi[0].user_uid}},[t._v("프로필보기")]):t._e(),t._v(" "),t.$store.state.imagestore.imagedetail_multi[0].user_uid!=t.$store.state.loginstore.userstate[0].user_uid?r("v-btn",{attrs:{text:"",color:"primary",to:"/note/"+t.$store.state.imagestore.imagedetail_multi[0].nickname+"/"+t.$store.state.imagestore.imagedetail_multi[0].user_uid}},[t._v("쪽지보내기")]):t._e(),t._v(" "),t.$store.state.imagestore.imagedetail_multi[0].user_uid!=t.$store.state.loginstore.userstate[0].user_uid?r("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(e){return e.preventDefault(),t.report_multi.apply(null,arguments)}}},[t._v("신고하기")]):t._e()],1)],2)}),1)],1),t._v(" "),r("div",{staticClass:"mt-10 mr-7",attrs:{id:"chart"}},[r("apexchart",{staticClass:"d-flex justify-center",attrs:{height:"350",type:"donut",options:t.chartOptions,series:t.series}})],1),t._v(" "),r("div",{staticClass:"text-center"},[r("v-dialog",{attrs:{width:"400",persistent:""},model:{value:t.scoredialog_multi,callback:function(e){t.scoredialog_multi=e},expression:"scoredialog_multi"}},[r("v-card",{staticClass:"elevation-16 mx-auto ",attrs:{width:"400"}},[r("v-card-title",{staticClass:"text-h5"},[t._v("\r\n            가장 좋은 사진을 선택해 주세요.\r\n          ")]),t._v(" "),r("v-card-text",[r("div",{staticClass:"text-center mt-12"},[r("v-container",{attrs:{fluid:""}},[r("v-form",{ref:"form"},[r("v-radio-group",{attrs:{row:"",rules:t.rules},model:{value:t.score_multi_value,callback:function(e){t.score_multi_value=e},expression:"score_multi_value"}},t._l(t.$store.state.imagestore.imagedetail_multi[0].image_path.length,function(t){return r("v-radio",{key:t,attrs:{label:t+"번 사진",value:t+"번 사진"}})}),1)],1)],1)],1)]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",{staticClass:"justify-space-between"},[r("v-btn",{attrs:{text:""},on:{click:t.score_cancel_multi}},[t._v("\r\n              취소\r\n            ")]),t._v(" "),r("v-btn",{attrs:{loading:t.loading,color:"primary",text:""},on:{click:function(e){return e.preventDefault(),t.score_send_multi.apply(null,arguments)}}},[t._v("\r\n              사진 선택 완료하기\r\n            ")])],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"text-center"},[r("v-dialog",{attrs:{width:"400",persistent:""},model:{value:t.deletedialog,callback:function(e){t.deletedialog=e},expression:"deletedialog"}},[r("v-card",{staticClass:"elevation-16 mx-auto ",attrs:{width:"400"}},[r("v-card-title",{staticClass:"text-h10 justify-center"},[t._v("\r\n            사진과 통계점수를 삭제합니다.\r\n          ")]),t._v(" "),r("v-card-text",{staticClass:"text-center mt-5"},[t._v("\r\n            해당 게시물을 삭제하시겠습니까?\r\n          ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-actions",{staticClass:"justify-space-between"},[r("v-btn",{attrs:{text:""},on:{click:t.delete_cancel}},[t._v("\r\n              취소\r\n            ")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return e.preventDefault(),t.deleteimage_multi.apply(null,arguments)}}},[t._v("\r\n              삭제\r\n            ")])],1)],1)],1)],1),t._v(" "),r("div",{ref:"report_form",staticClass:"text-center",attrs:{align:"center",justify:"center"}},[r("v-dialog",{attrs:{width:"400",persistent:""},model:{value:t.reportdialog_multi,callback:function(e){t.reportdialog_multi=e},expression:"reportdialog_multi"}},[r("v-card",{staticClass:"elevation-16 mx-auto ",attrs:{width:"400"}},[r("v-card-title",{staticClass:"text-h10 justify-center"},[t._v("\r\n            신고하기\r\n          ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-text",{staticClass:"text-center mt-5"},[t._v("\r\n            해당 게시물을 신고하시겠습니까?\r\n          ")]),t._v(" "),r("v-form",{ref:"report_form"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"10"}},[r("v-select",{attrs:{items:t.report_reason_list,label:"신고사유를 선택해 주세요.",outlined:"",required:"",rules:t.reportRules},model:{value:t.report_reason,callback:function(e){t.report_reason=e},expression:"report_reason"}})],1)],1)],1),t._v(" "),r("v-card-actions",{staticClass:"justify-space-between"},[r("v-btn",{attrs:{text:""},on:{click:t.report_cancel_multi}},[t._v("\r\n              취소\r\n            ")]),t._v(" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return e.preventDefault(),t.report_content_multi.apply(null,arguments)}}},[t._v("\r\n              신고\r\n            ")])],1)],1)],1)],1),t._v(" "),r("v-divider",{staticClass:"mt-15 mb-10"}),t._v(" "),r("div",[r("Content_multi")],1)],1)};m._withStripped=!0;var d={render:m,staticRenderFns:[]},v=d;var g=r("VU/8")(_,v,!1,null,null,null);g.options.__file="src/components/ContentDetail_multi.vue";e.default=g.exports}});
//# sourceMappingURL=17.f003353b49eea5350119.js.map