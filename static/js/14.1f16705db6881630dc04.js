webpackJsonp([14],{baVR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),i=a("exGp"),n=a.n(i),o=a("RW5i"),l=a.n(o),c=a("xUm/"),u=a.n(c),g=a("nXk1"),m=a.n(g);m.a.config.encrypt=!0;var _={data:function(){return{black_image:u.a,user_uid:this.$store.state.loginstore.userstate[0].user_uid,dialog_profile_image_update:!1,currentImage:null,previewImage:null,imageInfos:[],loading:!1,buttonKey:1,baseimage:l.a}},mounted:function(){this.$store.dispatch("imagestore/mycontentimage",this.user_uid)},computed:{pre_url_set:function(){return m.a.set("pre_target",this.$router.currentRoute.fullPath)},mycontentGetterslist:function(){return this.$store.getters["imagestore/mycontentimagegetters"]},mycontentGetterslist_multi:function(){return this.$store.getters["imagestore/mycontentimagegetters_multi"]}},methods:{ChangePassword:function(){this.$router.push("/changepassword")},cancel:function(){this.dialog_profile_image_update=!1},show_dialog:function(){this.dialog_profile_image_update=!0},selectImage:function(t){this.currentImage=t,this.previewImage=URL.createObjectURL(this.currentImage),this.progress=0,this.message=""},updataProfile:function(){var t=this;return n()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.currentImage){e.next=5;break}if(!(0==t.buttonKey||t.buttonKey>1)){e.next=3;break}return e.abrupt("return",t.buttonKey=1);case 3:return t.message="이미지가 선택되지 않았습니다.",e.abrupt("return");case 5:t.progress=0,a={image:t.currentImage,user_uid:t.$store.state.loginstore.userstate[0].user_uid};try{t.$store.dispatch("loginstore/profile_image_update",a),t.dialog_profile_image_update=!1}catch(e){alert("프로필사진 업로드가 실패하였습니다."),t.$refs.imageRef.reset(),t.loading=!1,t.message="이미지 업로드 실패"+e,t.dialog_profile_image_update=!1}case 8:case"end":return e.stop()}},e,t)}))()},deleteProfile:function(){var t=this;return n()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("기본이미지로 변경하시겠습니까?")){a={profile_image:t.$store.state.loginstore.userstate[0].profile_image,user_uid:t.$store.state.loginstore.userstate[0].user_uid};try{t.$store.dispatch("loginstore/profile_image_delete",a),t.dialog_profile_image_update=!1}catch(e){alert("기본이미지로 변경하지 못했습니다."),t.$refs.imageRef.reset(),t.loading=!1,t.message="기본이미지로 변경실패"+e,t.dialog_profile_image_update=!1}}case 1:case"end":return e.stop()}},e,t)}))()},ContentDetail:function(t){this.$router.push({name:"ContentDetail",params:{content_uid:t.content_uid,datas:t}})},ContentDetail_multi:function(t){this.$router.push({name:"ContentDetail_multi",params:{content_uid:t.content_uid,datas:t}})},moveMynote:function(){this.$router.push("/MyNote/"+this.$store.state.loginstore.userstate[0].user_uid).catch(function(){return!0})},moveWithdrawal:function(){this.$router.push("/Withdrawal").catch(function(){return!0})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  "+t._s(t.pre_url_set)+"\n  "),a("div",{staticClass:"mypage pa-6",attrs:{align:"center"}},[null==this.$store.state.loginstore.userstate[0].profile_image?a("v-avatar",{attrs:{tile:"",size:"200"}},[a("v-img",{attrs:{contain:"",src:t.baseimage}})],1):a("v-avatar",{attrs:{size:"200",tile:""}},[a("v-img",{attrs:{contain:"",src:"http://192.168.0.12:4000"+this.$store.state.loginstore.userstate[0].profile_image}})],1),t._v(" "),a("p",{staticClass:"pa-1 mt-2"},[a("v-row",[a("v-card-text",{staticClass:"mt-2"},[a("p",[t._v("\n            "+t._s(this.$store.state.loginstore.userstate[0].email)+"\n          ")]),t._v(" "),"male"==this.$store.state.loginstore.userstate[0].gender?a("v-icon",{staticClass:"mr-1",attrs:{color:"blue darken-3"}},[t._v("mdi-alpha-m-circle-outline")]):t._e(),t._v(" "),"female"==this.$store.state.loginstore.userstate[0].gender?a("v-icon",{staticClass:"mr-1",attrs:{color:"pink"}},[t._v("mdi-alpha-w-circle-outline")]):t._e(),t._v(t._s(this.$store.state.loginstore.userstate[0].nickname)+"\n\n          "),a("v-icon",{staticClass:"mr-1",attrs:{color:"amber lighten-1"}},[t._v("mdi-alpha-p-circle")]),t._v(t._s(this.$store.state.loginstore.userstate[0].point)+"\n        ")],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.show_dialog}},[t._v("프로필사진 수정")]),t._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteProfile}},[t._v("\n      기본이미지\n    ")]),t._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.ChangePassword}},[t._v("비밀번호 변경")]),t._v(" "),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.moveMynote}},[t._v("쪽지함")]),t._v(" "),a("v-btn",{attrs:{color:"grey",text:""},on:{click:t.moveWithdrawal}},[t._v("회원탈퇴")]),t._v(" "),a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"600",persistent:""},model:{value:t.dialog_profile_image_update,callback:function(e){t.dialog_profile_image_update=e},expression:"dialog_profile_image_update"}},[a("v-card",[a("v-card-title",{staticClass:"grey darken-3"},[t._v("\n            프로필사진 수정하기\n          ")]),t._v(" "),a("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},[a("v-col",{attrs:{cols:"8"}},[a("v-file-input",{ref:"imageRef",attrs:{chips:"","prepend-icon":"mdi-camera",counter:"","show-size":"",label:"Select Image",accept:"image/*","truncate-length":"12"},on:{change:t.selectImage}})],1),t._v(" "),t.previewImage?a("div",[a("div",[a("v-img",{staticClass:"preview pa-3",attrs:{contain:"","max-height":"310","max-width":"360",src:t.previewImage,alt:""}})],1)]):t._e()],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancel}},[t._v("\n              취소\n            ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{key:t.buttonKey,attrs:{color:"primary",text:"",loading:t.loading},on:{click:t.updataProfile}},[t._v("\n              확인\n            ")])],1)],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("div",{staticClass:"mt-5"},[a("span",{staticClass:"ml-6"},[t._v("외모점수")]),t._v(" "),a("v-row",{staticClass:"pa-6 mt-2"},[void 0==this.$store.state.imagestore.imagemycontentstate[0]?a("span",{staticClass:"ml-3"},[t._v("게시물이 없습니다.")]):t._l(t.mycontentGetterslist,function(e,r){return a("v-col",{key:r,staticClass:"d-flex child-flex",attrs:{cols:"4"}},[e.report_count>2?a("v-img",{staticClass:"grey--text align-center",attrs:{src:t.black_image,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)","aspect-ratio":"1"}},[a("v-card-text",{staticClass:"font-weight-thin",attrs:{align:"center"}},[t._v("신고누적으로"),a("br"),t._v("이미지차단")])],1):a("v-img",{staticClass:"grey lighten-2",attrs:{src:"http://192.168.0.12:4000/"+e.image_path,"aspect-ratio":"1"},on:{click:function(a){return t.ContentDetail(e)}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[a("span",{staticClass:"white--text"},[t._v(t._s(e.score_count)+"명")])])],1)})],2)],1),t._v(" "),a("div",{staticClass:"mt-5"},[a("span",{staticClass:"ml-6"},[t._v("사진골라줘")]),t._v(" "),a("v-row",{staticClass:"pa-6 mt-2"},[void 0==this.$store.state.imagestore.imagemycontentstate_multi[0]||null==this.$store.state.imagestore.imagemycontentstate_multi[0]?a("span",{staticClass:"ml-3"},[t._v("게시물이 없습니다.")]):t._e(),t._v(" "),t._l(t.mycontentGetterslist_multi,function(e,r){return a("v-col",{key:r,staticClass:"d-flex child-flex",attrs:{cols:"4"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[a("v-carousel",{attrs:{cycle:"","hide-delimiters":"","show-arrows-on-hover":"",height:"auto"}},t._l(e.image_path,function(r,s){return a("v-carousel-item",{key:s},[e.report_count>2?a("v-img",{staticClass:"grey--text align-center",attrs:{src:t.black_image,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)","aspect-ratio":"1"}},[a("v-card-text",{staticClass:"font-weight-thin",attrs:{align:"center"}},[t._v("신고누적으로"),a("br"),t._v("이미지차단")])],1):a("v-img",{attrs:{"aspect-ratio":"1",src:"http://192.168.0.12:4000/"+r},on:{click:function(a){return t.ContentDetail_multi(e)}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[a("span",{staticClass:"white--text"},[t._v(t._s(e.score_count)+"명")])])],1)}),1)],1)})],2)],1)],1)},staticRenderFns:[]},p=a("VU/8")(_,v,!1,null,null,null);e.default=p.exports}});
//# sourceMappingURL=14.1f16705db6881630dc04.js.map